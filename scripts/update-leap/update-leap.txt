== update-leap(1) ==
:doctype: manpage

== NAME == 
update-leap - leap-seconds file manager/updater

== SYNOPSIS ==
update-leap [-flags | -flag 'value' | --option-name='value']

== DESCRIPTION ==

`update-leap` will validate the file currently on the local system and
if necessary, updates leap-second definition file.

Ordinarily, the file is found using the "leapfile" directive in
_{ntpconfman}_. However, an alternate location can be specified on the
command line.

If the file does not exist, is not valid, has expired, or is expiring
soon, a new copy will be downloaded. If the new copy validates, it is
installed and NTP is (optionally) restarted.

If the current file is acceptable, no download or restart occurs.

-c can also be used to invoke another script to perform administrative
functions, e.g. to copy the file to other local systems.

This can be run as a cron job. As the file is rarely updated, and leap
seconds are announced at least one month in advance (usually longer), it
need not be run more frequently than about once every three weeks.

For cron-friendly behavior, define CRONJOB=1 in the crontab.

== OPTIONS ==

`-s` string, `--source-url`=_string_::
  The URL of the master copy of the leapseconds file.
  +
Specify the URL of the master copy to download $LEAPSRC

`-4`, `--ipv4`::
  Use only IPv4 addresses for DNS name resolution. This option must not
  appear in combination with any of the following options: --ipv6.

`-6`, `--ipv6`::
  Use only IPv6 addresses for DNS name resolution. This option must not
  appear in combination with any of the following options: --ipv4.

`-d` float, `--destination`=_float_::
  Filename on the local system.
+
The name to use to store the leapfile on the local system. $LEAPFILE

`-e` string, `--expiration`=_string_::
  Refresh the leapfile this long before it expires.
+
Specify how long before expiration the file is to be refreshed Units
are required, e.g. "-e 60 days" Note that larger values imply more
frequent refreshes.

`-f` string, `--ntp-conf-file`=_string_::
  Location of the {ntpconf} file.
+
Specify location of {ntpconf} (used to make sure leapfile directive is
present and to default leapfile) /etc/{ntpconf}

`-F`, `--force-update`::
  Force update of the leapfile.
+
Force update even if current file is OK and not close to expiring.

`--dont-wait`::
  Don't wait for keystroke between plots.

== USAGE ==

Usage stuff

== EXIT STATUS ==

One of the following exit values will be returned:

0 (EXIT_SUCCESS)::
  Successful program execution.
1 (EXIT_FAILURE)::
  The operation failed or the command syntax was not valid.

== AUTHORS ==

Timothe Litt

// end
