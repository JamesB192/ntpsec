// This is the body of the manual page for ntmon.
// It's included in two places: once for the docs/ HTML
// tree, and once to make an individual man page.

== Synopsis ==

+ntpmon+ [hostname]

== Description ==

This program is a real-time status monitor for NTP.  It presents the
same information as the 'peers' and 'mrulist' commands of {ntpqman},
but using a split-window display that also includes a status summary
bar, and updates at intervals guaranteed to show status changes as
soon as they occur.

(Specifically, the display begins updating once per second and
adjusts itself to poll at twice the frequency of the shortest
polling interval reported in the last peers response.)

The status bar includes the version string of the server being
watched and the (local) time at which it was last updated).

^C cleanly terminates the program.

If no hostname is specified on the command line, localhost is monitored.

== Commands ==

A few single-keystroke commands are available.

a:: Change peer display to apeers mode, showing association IDs.

n:: Toggle display of hostnames (vs. IP addresses).

o:: Change peer display to opeers mode, showing destination address.

p:: Change peer display to default mode, showing refid

q:: Cleanly terminate the program.

s:: Show all hosts, not just reachable ones.

w:: Toggle wide mode.

x:: Cleanly terminate the program.

<space>:: Rotate through all three peer display modes.

?:: List these commands.

== Options ==

-V:: Display version and exit.

== Known Bugs ==

+ntpmon+ will appear to hang when monitoring hosts with extremely long
MRU lists - in particular, public pool hosts.  There is no easy fix
for this, as the records are returned oldest first and the portion
of interest is usually the newest.

// end
